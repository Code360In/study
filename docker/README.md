# Docker 개요
- 가상화 : 컴퓨터에서 컴퓨터 리소스(CPU, 메모리, 저장장치, 네트워크 등)의 추상화를 일컫는 광범위한 용어
![image](https://user-images.githubusercontent.com/47103479/145204108-4185f8c9-2283-4d2e-825d-45f67ed182da.png)

  - 서버 가상화
    - 서버는 구체적이고 복잡한 작업을 실행하도록 설계된 강력한 머신
  - 앱 및 데스크톱 가상화
    -  가상 앱 및 데스크톱은 IT 부서가 시뮬레이션된 수백 개의 앱 및 데스크톱을 각 컴퓨터에 설치할 필요 없이 사용자에게 배포할 수 있는 중앙 성버 
  - 네트워크 가상화
  - 클라우드 컴퓨팅 : 인터넷을 통해 공유 컴퓨팅 리소스, 소프트웨어 또는 데이터를 제공하는 방식(가상화는 클라우드 컴퓨팅을 가능하게 하는 주요 기술중 하나) 
- 가상화 응용
  - 서버 통합, 재해 복구, 테스트 및 단력, 휴대 응용, 휴대 작업 공간 , 하드웨어 가상화 기술 
- 클라우드 컴퓨팅
  - 클라우드(인터넷)을 통해 가상화된 컴퓨터의 시스템 리소스(IT 리소스)를 제공
  - 인터넷 기반 컴퓨팅의 일종, 정보를 자신의 컴퓨터가 아닌 인터넷에 연결된 다른 컴퓨터로 처리하는 기술
  - 구성 가능한 컴퓨팅 자원(컴퓨터 네트워크, 서버, 스토리지, 애플리케이션, 서비스)에 대해 어디서나 접근이 가능한, 주문형 접근을 가능케하는 모델 
  ![image](https://user-images.githubusercontent.com/47103479/145204955-9d3b89c7-8718-4234-8b25-874e118b585e.png)

- 컨테이너 기술 
  - 가상화는 단일 하드웨어 시스템에서 여러 운영 체제(윈도우 또는 리눅스)가 동시에 실행
  - 컨테이너는 동일한 운영 체제 커널을 공유하고 시스템의 나머지 부분으로부터 애플리케이션 프로세스 격리 
  ![image](https://user-images.githubusercontent.com/47103479/145205305-08187a56-a23a-43d1-ab5b-c22706221ea1.png)
  
  - 런타임 인스턴스, 애플리케이션과 그 구동환경을 격리한 공간
  - 경량, 포터블 실행가능 이미지, 이미지의 런타임 인스턴스
  - 소프트웨어어와 그에 필요한 의존성 모듈들 포함
  - OS수준에서 제공하는 가상화
  - 애플리케이션 구동환경을 가상화하는 기술
  - OS커널이 격리된 사용자공간을 제공하는 서버 가상화 방법
  - 여러 개의 독립된 사용자 공간 인스턴스를 하나의 호스트에서 사용할 수 있음

# 도커 컨테이너
- 도커 컨테이너
  - 소프트웨어를 제어할 수단을 제공 
    - 도커를 이용해서 어플리케이션을 패키징하면 이의 전개와 런타임 문제를 애플리케이션 외부에서 제어할 수 있음
  - 컨테이너는 기저의 운영 체계로부터, 그리고 다른 컨테이너로부터, 단일 애플리케이션과 이의 의존성, 앱 실행에 필수적인 외부 소프트웨어 라이브러리 전체를 격리
  - 시스템 자원을 좀더 효율적으로 이용 가능 (더 적은 메모리, 더 신속하게 시작 및 중지, 호스트 하드웨어에서 훨씬 더 밀도있게 배치)
  - 소프트웨어 전달 주기를 가속(수요에 맞춘 스케일링, 비즈니스가 요구하는 신기능을 추가하는 업데이트를 간단히 할 수 있음)
  - 애플리케이션 이동을 가능하게 함
    - 애플리케이션이 실행해야 하는 모든 것을 캡슐화 하기 때문에 애플리케이션이 환경들 사이에 손쉽게 이동 가능
  - 컨테이너에 의해 좀더 용이해지는 소프트웨어 패턴의 하나는 마이크로서비스
    - 마이크로서비스는 비즈니스 요구에 따라 별개의 팀에 의해 별개의 시케줄 상에서 LOB 앱(a  Line-of-Business App)의 부분들이 개별적으로 확장 수정 서비스되도록 할 수 있음
  - 분리와 조절 기능 제공
  - 이식성을 제공하는 도커 컨테이너(컨테이너 런타임 환경을 지원하는 모든 장치에서 실행)
  - 결합성을 제공하는 도커 컨테이너(여러 컨테이너가 각 조각들을 제공하며 독립적으로 유지,업데이트,교체,수정 가능)
  - 오케스트레이션과 스케일링이 쉬움(컨테이너는 가볍고, 오버헤드가 거의 없음)
  - 가상 머신이 아닌 도커 컨테이너 기반
    - 가상 머신은 운영 체제에서 자신의 인스턴스에서 실행되기 때문에 고수준의 프로세스 분리 기능을 제공 vs 컨테이너는 호스트 운영체제에서 통제된 영역을 사용 
  ![image](https://user-images.githubusercontent.com/47103479/145210300-d840ce08-1bad-4359-92ad-6d6e6e1f441a.png)

- 도커 이미지
  - 이미지 : 컨테이너 실행에 필요한 파일과 설정값 등을 포함하고 있는 것으로 상태값을 가지지 않고 변하지 않음(Immutable)
    - Ubuntu 이미지 : ubuntu를 실행하기 위한 모든 파일을 가지고 있고 MySQL이미지는 debian을 기반으로 MySQL을 실행하는데 필요한 파일과 실행 명령어 , 포트 정보등을 가지고 있음
    - Gitlab 이미지 : centos를 기반으로 ruby,go,database,redis,gitlab source, nginx 드을 가지고 있음
      - 컨테이너를 실행하기 위한 모든 정보를 가지고 있어서 더 이 상 의존성 파일을 컴파일 하고 설치할 필요 없음
      - Doker hub에 등록하거나 Docker Registry 저장소를 직접 만들어 관리 가능 
  - 컨테이너 : 이미지를 실행한 상태라고 볼 수 있고 추가되거나 변하는 값은 컨테이너에 저장됨
    - 같은 이미지에서 여러 개의 컨테이너 생성 가능, 컨테이너가 추가 및 변경되더라도 이미지는 변경되지 않고 그대로 남아있음
  - 도커 : 특정 프로세스를 운영체제의 나머지와 일정 수준 부리해 실행시킬 수 있음
    - 각 애플리케이션과 종속물이 운영체제 리소스의 분리된 세그먼트를 사용하는 방식

- 도커 파일
  - 도커 이미지를 만들기 위한 설정 파일
  - 여러 가지 명령어를 토대로 Docker File을 작성하면 설정된 내용대로 도커 이미지를 만들 수 있음
  - 도커는 이미지를 만들기 위해 Dockerfile이라는 이미지 빌드용 DSLDomain Specific Language파일을 사용함 
  - 단순 텍스트 파일로 일반적으로 소스와 함께 관리 
  ![image](https://user-images.githubusercontent.com/47103479/145211007-f3f095b1-0cc6-4543-92fc-2f2ceeb45bf6.png)
  ![image](https://user-images.githubusercontent.com/47103479/145211273-dc70802b-b1d5-4248-ba2f-9922ef58cf97.png)

- 도커 VM

  ![image](https://user-images.githubusercontent.com/47103479/145211529-bc8662bf-b1db-4b39-87d3-5ae4e0c68bed.png)

  
